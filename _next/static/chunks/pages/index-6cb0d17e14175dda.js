(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3296)}])},3296:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var r=t(5893),i=t(2553),o=t(3856),s=t(6212),a=t(2273),l=t(7294),c=t(6665),u=t(6135),x=t(5396),d=t(5848),m=t(3646),j=function(e){var n=e.id,t=e.coords,i=e.simulator,o=(0,l.useState)(void 0),s=o[0],a=o[1];return(0,m.x)((function(){var e,t=1e8*(null!==(e=i.current.CurrentGeneration().at(n))&&void 0!==e?e:0)||void 0;s!==t&&a(t)})),(0,r.jsxs)("mesh",{scale:.9,position:t,children:[(0,r.jsx)("boxGeometry",{args:[1,1,1]}),(0,r.jsx)("meshStandardMaterial",{visible:void 0!==s,color:s})]})},h=function(){var e=(0,d.b)(),n=e.settings,t=e.simulator,i=(0,l.useMemo)((function(){for(var e=[],i=Math.round(n.dimension/2),o=0;o<n.dimension;o++)for(var s=0;s<n.dimension;s++)for(var a=0;a<n.dimension;a++){var l=[o-i,s-i,a-i],c=(0,x.sG)([o,s,a],n.dimension);e.push((0,r.jsx)(j,{simulator:t,coords:l,id:c},c))}return e}),[t,n.dimension]);return(0,r.jsxs)(u.Xz,{camera:{fov:75,near:.1,far:1e3,position:[2,1,n.dimension+5]},style:{height:"100vh"},children:[(0,r.jsx)("ambientLight",{}),(0,r.jsx)("pointLight",{position:[10,10,10]}),(0,r.jsx)(c.z,{enablePan:!0,enableZoom:!0,enableRotate:!0}),i]})},f=t(6042),p=t(9396),v=t(4866),Z=t(8972),g=t(1802),b=t(6089),S=function(){var e=(0,d.b)(),n=e.simulator,t=e.setSeed,i=(0,l.useState)(),a=i[0],c=i[1],u=(0,l.useMemo)((function(){return[{auto:!0,flat:!0,rounded:!0,color:"warning"},{color:s.rS.colors.warning.value}]}),[]),x=u[0],m=u[1],j=(0,l.useCallback)((function(){var e=setInterval((function(){return n.current.NextGeneration()}),100);c(e)}),[n]),h=(0,l.useCallback)((function(){void 0!==a&&(clearInterval(a),c(void 0))}),[a]),S=(0,l.useCallback)((function(){h(),n.current.NextGeneration()}),[n,h]),P=(0,l.useCallback)((function(){h(),t((function(e){return e.slice()}))}),[t,h]);return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(v.d,(0,f.Z)({},m)),onClick:h})):(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(Z.s,(0,f.Z)({},m)),onClick:j})),(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(g.C,(0,f.Z)({},m)),onClick:P})),(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(b.J,(0,f.Z)({},m)),onClick:S}))]})},P=t(1760),w=t(6979),C=t(5709),y={Drawer:{height:"97vh",maxWidth:"30em",position:"fixed",zIndex:5,top:"1.5vh",left:"0.5em",padding:"0px"},Subtitle:{color:"$accents8"}},k=function(e){var n=e.isOpen,t=e.onClose,o=e.children;return n?(0,r.jsxs)(P.ZP,{isHoverable:!0,css:y.Drawer,children:[(0,r.jsx)(P.ZP.Header,{children:(0,r.jsxs)(i.ZP.Container,{gap:1,children:[(0,r.jsxs)(i.ZP,{xs:12,direction:"row",justify:"space-between",alignItems:"center",children:[(0,r.jsx)(w.Z,{h3:!0,children:"Simulation settings"}),(0,r.jsx)(C.x,{onClick:t})]}),(0,r.jsx)(i.ZP,{xs:12,children:(0,r.jsxs)(w.Z,{css:y.Subtitle,children:["Here you will be able to tweak your simulation settings. ",(0,r.jsx)("br",{}),"Different simulation settings with the same initial seed could generate radically different Cellular Automata.",(0,r.jsx)("br",{})]})})]})}),(0,r.jsx)(P.ZP.Body,{children:o})]}):(0,r.jsx)(r.Fragment,{})},F=t(5496),_=t(6320),T=t(9001),N=t(7e3),D=t(7536),E=t(1222),I=t(1508),z={Section:{mb:"$10"},Footer:{fg:"1",ai:"flex-end"}},G=function(e){var n=e.onDiscard,t=e.onSave,a=(0,d.b)(),c=a.settings,u=a.setSeed,x=(0,D.cI)({mode:"onBlur",defaultValues:c,resolver:(0,F.X)(I.Ty)}),m=x.control,j=x.register,h=x.handleSubmit,p=x.formState,v=(0,l.useCallback)((function(e,n){var t;return p.errors[e]?{helperText:null===(t=p.errors[e])||void 0===t?void 0:t.message,color:"error"}:{helperText:n,color:"primary"}}),[p.errors]),Z=(0,l.useCallback)((function(){return u((0,E.dN)(c.dimension,c.max_states))}),[u,c.dimension,c.max_states]),g=(0,l.useCallback)((function(){return(0,E.yy)(u)}),[u]),b=(0,l.useCallback)((function(){return u((function(e){return(0,E.ZY)(e),e}))}),[u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.ZP.Container,{gap:2,css:z.Section,children:[(0,r.jsx)(i.ZP,{xs:4,justify:"center",children:(0,r.jsx)(o.ZP,{color:"warning",flat:!0,auto:!0,onClick:Z,children:"Random seed"})}),(0,r.jsx)(i.ZP,{xs:4,justify:"center",children:(0,r.jsx)(o.ZP,{color:"warning",flat:!0,auto:!0,onClick:g,children:"Import seed"})}),(0,r.jsx)(i.ZP,{xs:4,justify:"center",children:(0,r.jsx)(o.ZP,{color:"warning",flat:!0,auto:!0,onClick:b,children:"Export seed"})})]}),(0,r.jsx)(i.ZP.Container,{gap:2,css:z.Section,children:(0,r.jsx)(i.ZP,{xs:12,children:(0,r.jsx)(D.Qr,{name:"mode",control:m,render:function(e){var n=e.field,t=n.value,i=n.onChange;return(0,r.jsxs)(_.ZP.Group,{label:"Simulation mode",value:t,onChange:i,children:[(0,r.jsx)(_.ZP,{size:"sm",value:"conway",description:"Evaluates only the 6 face adjacent neighbors",children:"Conway"}),(0,r.jsx)(_.ZP,{size:"sm",value:"von-neumann",description:"Evaluates the whole 26 neighbors",children:"Von Neumann"})]})}})})}),(0,r.jsxs)(i.ZP.Container,{gap:2,css:z.Section,children:[(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(T.ZP,(0,f.Z)({type:"number",label:"Matrix size"},j("dimension"),v("dimension","The number of cell per side in the matrix")))}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(T.ZP,(0,f.Z)({type:"number",label:"Life states"},j("max_states"),v("max_states","The max age reachable by any given cell")))}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(T.ZP,(0,f.Z)({type:"number",label:"Spawn threshold"},j("lim_spawn"),v("lim_spawn","Number of alive neighbor for a cell to spawn")))}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(T.ZP,(0,f.Z)({type:"number",label:"Survive threshold"},j("lim_survive"),v("lim_survive","Number of alive neighbor for a cell to survive")))})]}),(0,r.jsxs)(i.ZP.Container,{gap:2,css:z.Footer,children:[(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(o.ZP,{flat:!0,color:"error",icon:(0,r.jsx)(C.x,{color:s.rS.colors.error.value}),onClick:n,children:"Discard"})}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(o.ZP,{flat:!0,color:"success",icon:(0,r.jsx)(N.M,{color:s.rS.colors.success.value}),onClick:h(t),children:"Save"})})]})]})},M=t(9008),X=t.n(M),H=function(){return(0,r.jsxs)(X(),{children:[(0,r.jsx)("title",{children:"3D Cellular Automata"}),(0,r.jsx)("link",{rel:"icon",type:"image/x-icon",href:"./favicon.ico"}),(0,r.jsx)("link",{rel:"canonical",href:I.SF.SiteUrl}),(0,r.jsx)("meta",{name:"language",content:"English"}),(0,r.jsx)("meta",{name:"title",content:I.SF.Title}),(0,r.jsx)("meta",{name:"author",content:I.SF.Author}),(0,r.jsx)("meta",{name:"description",content:I.SF.Description}),(0,r.jsx)("meta",{name:"keywords",content:I.SF.Keywords.join(",")}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:I.SF.Title}),(0,r.jsx)("meta",{property:"og:image",content:I.SF.Image}),(0,r.jsx)("meta",{property:"og:url",content:I.SF.SiteUrl}),(0,r.jsx)("meta",{property:"og:description",content:I.SF.Description}),(0,r.jsx)("meta",{name:"twitter:image",content:I.SF.Image}),(0,r.jsx)("meta",{name:"twitter:title",content:I.SF.Title}),(0,r.jsx)("meta",{name:"twitter:site",content:I.SF.SiteUrl}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:creator",content:I.SF.TwitterHandle}),(0,r.jsx)("meta",{name:"twitter:description",content:I.SF.Description}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"})]})},O={Fab:{width:"300px",position:"fixed",top:"2em",left:"2em",zIndex:1}},A=function(){var e=(0,d.b)().setSettings,n=(0,l.useState)(!1),t=n[0],c=n[1],u=(0,l.useCallback)((function(n){e(n),c((function(e){return!e}))}),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H,{}),(0,r.jsxs)(i.ZP.Container,{justify:"space-around",css:O.Fab,children:[(0,r.jsx)(o.ZP,{auto:!0,flat:!0,rounded:!0,color:"warning",icon:(0,r.jsx)(a.X,{color:s.rS.colors.warning.value}),onClick:function(){return c((function(e){return!e}))},children:"Settings"}),(0,r.jsx)(S,{})]}),(0,r.jsx)(k,{isOpen:t,onClose:function(){return c((function(e){return!e}))},children:(0,r.jsx)(G,{onDiscard:function(){return c((function(e){return!e}))},onSave:u})}),(0,r.jsx)(h,{})]})}}},function(e){e.O(0,[737,240,238,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);