(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8092)}])},8092:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var r=t(5893),o=t(2553),i=t(3856),s=t(6212),a=t(2273),c=t(7294),l=t(6665),u=t(6135),d=t(3381),x=t(8795),f=t(6566),h=function(e){var n=e.id,t=e.coords,o=e.simulator,i=(0,c.useState)(void 0),s=i[0],a=i[1];return(0,f.x)((function(){var e,t=1e8*(null!==(e=o.current.CurrentGeneration().at(n))&&void 0!==e?e:0)||void 0;s!==t&&a(t)})),(0,r.jsxs)("mesh",{scale:.9,position:t,children:[(0,r.jsx)("boxGeometry",{args:[1,1,1]}),(0,r.jsx)("meshStandardMaterial",{visible:void 0!==s,color:s})]})},m=function(){var e=(0,x.b)(),n=e.settings,t=e.simulator,o=(0,c.useMemo)((function(){return[2,1,n.dimension+5]}),[n.dimension]),i=(0,c.useMemo)((function(){for(var e=[],o=Math.round(n.dimension/2),i=0;i<n.dimension;i++)for(var s=0;s<n.dimension;s++)for(var a=0;a<n.dimension;a++){var c=[i-o,s-o,a-o],l=(0,d.sG)(c,n.dimension);e.push((0,r.jsx)(h,{simulator:t,coords:c,id:l},l))}return e}),[t,n.dimension]);return(0,r.jsxs)(u.Xz,{camera:{fov:75,near:.1,far:1e3,position:o},style:{height:"100vh"},children:[(0,r.jsx)("ambientLight",{}),(0,r.jsx)("pointLight",{position:[10,10,10]}),(0,r.jsx)(l.z,{enablePan:!0,enableZoom:!0,enableRotate:!0}),i]})},j=t(4866),b=t(8972),p=t(1802),v=t(6089);function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){g(e,n,t[n])}))}return e}var P=function(){var e=(0,x.b)(),n=e.simulator,t=e.setSeed,o=(0,c.useState)(),a=o[0],l=o[1],u=(0,c.useMemo)((function(){return[{auto:!0,flat:!0,rounded:!0,color:"warning"},{color:s.rS.colors.warning.value}]}),[]),d=u[0],f=u[1],h=(0,c.useCallback)((function(){var e=setInterval((function(){return n.current.NextGeneration()}),100);l(e)}),[n]),m=(0,c.useCallback)((function(){void 0!==a&&(clearInterval(a),l(void 0))}),[a]),g=(0,c.useCallback)((function(){m(),n.current.NextGeneration()}),[n,m]),P=(0,c.useCallback)((function(){m(),t((function(e){return e.slice()}))}),[t,m]);return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)(i.ZP,y({},d,{icon:(0,r.jsx)(j.d,y({},f)),onClick:m})):(0,r.jsx)(i.ZP,y({},d,{icon:(0,r.jsx)(b.s,y({},f)),onClick:h})),(0,r.jsx)(i.ZP,y({},d,{icon:(0,r.jsx)(p.C,y({},f)),onClick:P})),(0,r.jsx)(i.ZP,y({},d,{icon:(0,r.jsx)(v.J,y({},f)),onClick:g}))]})},Z=t(1760),w=t(6979),C=t(5709),S={Drawer:{height:"97vh",maxWidth:"30em",position:"fixed",zIndex:5,top:"1.5vh",left:"0.5em",padding:"0px"},Subtitle:{color:"$accents8"}},k=function(e){var n=e.isOpen,t=e.onClose,i=e.children;return n?(0,r.jsxs)(Z.ZP,{isHoverable:!0,css:S.Drawer,children:[(0,r.jsx)(Z.ZP.Header,{children:(0,r.jsxs)(o.ZP.Container,{gap:1,children:[(0,r.jsxs)(o.ZP,{xs:12,direction:"row",justify:"space-between",alignItems:"center",children:[(0,r.jsx)(w.Z,{h3:!0,children:"Simulation settings"}),(0,r.jsx)(C.x,{onClick:t})]}),(0,r.jsx)(o.ZP,{xs:12,children:(0,r.jsxs)(w.Z,{css:S.Subtitle,children:["Here you will be able to tweak your simulation settings. ",(0,r.jsx)("br",{}),"Different simulation settings with the same initial seed could generate radically different Cellular Automata.",(0,r.jsx)("br",{})]})})]})}),(0,r.jsx)(Z.ZP.Body,{children:i})]}):(0,r.jsx)(r.Fragment,{})},O=t(6347),E=t(4329),T=t(7e3),D=t(6873);function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){_(e,n,t[n])}))}return e}var I={Section:{mb:"$10"},Footer:{fg:"1",ai:"flex-end"}},M=function(e){var n=e.onDiscard,t=e.onSave,a=(0,x.b)(),l=a.settings,u=a.setSeed,f=(0,c.useState)(l),h=f[0],m=f[1],j=(0,c.useMemo)((function(){return"conway"===h.mode?D.TM:D.D7}),[h.mode]),b=(0,c.useCallback)((function(){return u((0,d.dN)(l.dimension,l.maxLifeExpectancy))}),[u,l.dimension,l.maxLifeExpectancy]),p=(0,c.useCallback)((function(){return(0,d.yy)(u)}),[u]),v=(0,c.useCallback)((function(){return u((function(e){return(0,d.ZY)(e),e}))}),[u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.ZP.Container,{gap:2,css:I.Section,children:[(0,r.jsx)(o.ZP,{xs:4,justify:"center",children:(0,r.jsx)(i.ZP,{color:"warning",flat:!0,auto:!0,onClick:b,children:"Random seed"})}),(0,r.jsx)(o.ZP,{xs:4,justify:"center",children:(0,r.jsx)(i.ZP,{color:"warning",flat:!0,auto:!0,onClick:p,children:"Import seed"})}),(0,r.jsx)(o.ZP,{xs:4,justify:"center",children:(0,r.jsx)(i.ZP,{color:"warning",flat:!0,auto:!0,onClick:v,children:"Export seed"})})]}),(0,r.jsx)(o.ZP.Container,{gap:2,css:I.Section,children:(0,r.jsx)(o.ZP,{xs:12,children:(0,r.jsxs)(O.ZP.Group,{label:"Simulation mode",defaultValue:l.mode,onChange:function(e){return m(N({},h,{mode:e}))},children:[(0,r.jsx)(O.ZP,{size:"sm",value:"conway",description:"Evaluates only the 6 face adjacent neighbors",children:"Conway"}),(0,r.jsx)(O.ZP,{size:"sm",value:"von-neumann",description:"Evaluates the whole 26 neighbors",children:"Von Neumann"})]})})}),(0,r.jsxs)(o.ZP.Container,{gap:2,css:I.Section,children:[(0,r.jsx)(o.ZP,{xs:6,children:(0,r.jsx)(E.ZP,{type:"number",color:"primary",label:"Matrix size",value:h.dimension,max:D.tp,helperText:"The number of cell per side in the matrix",onChange:function(e){return m(N({},h,{dimension:parseInt(e.target.value,10)}))}})}),(0,r.jsx)(o.ZP,{xs:6,children:(0,r.jsx)(E.ZP,{type:"number",color:"primary",label:"Life states",value:h.maxLifeExpectancy,helperText:"The max age reachable by any given cell",onChange:function(e){return m(N({},h,{maxLifeExpectancy:parseInt(e.target.value,10)}))}})}),(0,r.jsx)(o.ZP,{xs:6,children:(0,r.jsx)(E.ZP,{type:"number",color:"primary",label:"Spawn threshold",max:j,value:h.spawnThreshold,helperText:"Number of alive neighbor for a cell to spawn",onChange:function(e){return m(N({},h,{spawnThreshold:parseInt(e.target.value,10)}))}})}),(0,r.jsx)(o.ZP,{xs:6,children:(0,r.jsx)(E.ZP,{type:"number",color:"primary",label:"Survive threshold",max:j,value:h.surviveThreshold,helperText:"Number of alive neighbor for a cell to survive",onChange:function(e){return m(N({},h,{surviveThreshold:parseInt(e.target.value,10)}))}})})]}),(0,r.jsxs)(o.ZP.Container,{gap:2,css:I.Footer,children:[(0,r.jsx)(o.ZP,{xs:6,children:(0,r.jsx)(i.ZP,{flat:!0,color:"error",icon:(0,r.jsx)(C.x,{color:s.rS.colors.error.value}),onClick:n,children:"Discard"})}),(0,r.jsx)(o.ZP,{xs:6,children:(0,r.jsx)(i.ZP,{flat:!0,color:"success",icon:(0,r.jsx)(T.M,{color:s.rS.colors.success.value}),onClick:function(){return t(h)},children:"Save"})})]})]})},F=t(9008),z=t.n(F),G=function(){return(0,r.jsxs)(z(),{children:[(0,r.jsx)("title",{children:"3D Cellular Automata"}),(0,r.jsx)("meta",{name:"language",content:"English"}),(0,r.jsx)("meta",{name:"title",content:"3D Cellular Automata"}),(0,r.jsx)("meta",{name:"author",content:"Enea Guidi (its-hmny)"}),(0,r.jsx)("meta",{name:"description",content:"A Three.js webapp to simulate cellular automata in 3D"}),(0,r.jsx)("meta",{name:"keywords",content:"cellular automata,3D,conway,game of life,three.js,react"}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"})]})},L={Fab:{width:"300px",position:"fixed",top:"2em",left:"2em",zIndex:1}},A=function(){var e=(0,x.b)().setSettings,n=(0,c.useState)(!1),t=n[0],l=n[1],u=(0,c.useCallback)((function(n){e(n),l((function(e){return!e}))}),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{}),(0,r.jsxs)(o.ZP.Container,{justify:"space-around",css:L.Fab,children:[(0,r.jsx)(i.ZP,{auto:!0,flat:!0,rounded:!0,color:"warning",icon:(0,r.jsx)(a.X,{color:s.rS.colors.warning.value}),onClick:function(){return l((function(e){return!e}))},children:"Settings"}),(0,r.jsx)(P,{})]}),(0,r.jsx)(k,{isOpen:t,onClose:function(){return l((function(e){return!e}))},children:(0,r.jsx)(M,{onDiscard:function(){return l((function(e){return!e}))},onSave:u})}),(0,r.jsx)(m,{})]})}}},function(e){e.O(0,[737,240,449,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);