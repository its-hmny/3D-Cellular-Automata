(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8092)}])},8092:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return A}});var t=r(5893),o=r(2553),i=r(3856),s=r(6212),a=r(2273),l=r(7294),c=r(6665),u=r(6135),d=r(3381),x=r(8795),f=r(6566),h=function(e){var n=e.id,r=e.coords,o=e.simulator,i=(0,l.useState)(void 0),s=i[0],a=i[1];return(0,f.x)((function(){var e,r=1e8*(null!==(e=o.current.CurrentGeneration().at(n))&&void 0!==e?e:0)||void 0;s!==r&&a(r)})),(0,t.jsxs)("mesh",{scale:.9,position:r,children:[(0,t.jsx)("boxGeometry",{args:[1,1,1]}),(0,t.jsx)("meshStandardMaterial",{visible:void 0!==s,color:s})]})},m=function(){var e=(0,x.b)(),n=e.settings,r=e.simulator,o=(0,l.useMemo)((function(){return[2,1,n.dimension+5]}),[n.dimension]),i=(0,l.useMemo)((function(){for(var e=[],o=Math.round(n.dimension/2),i=0;i<n.dimension;i++)for(var s=0;s<n.dimension;s++)for(var a=0;a<n.dimension;a++){var l=[i-o,s-o,a-o],c=(0,d.sG)(l,n.dimension);e.push((0,t.jsx)(h,{simulator:r,coords:l,id:c},c))}return e}),[r,n.dimension]);return(0,t.jsxs)(u.Xz,{camera:{fov:75,near:.1,far:1e3,position:o},style:{height:"100vh"},children:[(0,t.jsx)("ambientLight",{}),(0,t.jsx)("pointLight",{position:[10,10,10]}),(0,t.jsx)(c.z,{enablePan:!0,enableZoom:!0,enableRotate:!0}),i]})},j=r(4866),p=r(8972),b=r(1802),v=r(6089);function g(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){g(e,n,r[n])}))}return e}var P=function(){var e=(0,x.b)(),n=e.simulator,r=e.setSeed,o=(0,l.useState)(),a=o[0],c=o[1],u=(0,l.useCallback)((function(){var e=setInterval((function(){return n.current.NextGeneration()}),100);c(e)}),[n]),d=(0,l.useCallback)((function(){void 0!==a&&(clearInterval(a),c(void 0))}),[a]),f=(0,l.useCallback)((function(){d(),n.current.NextGeneration()}),[n,d]),h=(0,l.useCallback)((function(){d(),r((function(e){return e.slice()}))}),[r,d]),m=(0,l.useMemo)((function(){return[{auto:!0,flat:!0,rounded:!0,color:"warning"},{color:s.rS.colors.warning.value}]}),[]),g=m[0],P=m[1];return(0,t.jsxs)(t.Fragment,{children:[a?(0,t.jsx)(i.ZP,y({},g,{icon:(0,t.jsx)(j.d,y({},P)),onClick:d})):(0,t.jsx)(i.ZP,y({},g,{icon:(0,t.jsx)(p.s,y({},P)),onClick:u})),(0,t.jsx)(i.ZP,y({},g,{icon:(0,t.jsx)(b.C,y({},P)),onClick:h})),(0,t.jsx)(i.ZP,y({},g,{icon:(0,t.jsx)(v.J,y({},P)),onClick:f}))]})},w=r(1013),Z=r(9214),C=r(5709),S={Drawer:{height:"97vh",maxWidth:"30em",position:"fixed",zIndex:5,top:"1.5vh",left:"0.5em",padding:"0px"},Subtitle:{color:"$accents8"}},k=function(e){var n=e.isOpen,r=e.onClose,i=e.children;return n?(0,t.jsxs)(w.ZP,{isHoverable:!0,css:S.Drawer,children:[(0,t.jsx)(w.ZP.Header,{children:(0,t.jsxs)(o.ZP.Container,{gap:1,children:[(0,t.jsxs)(o.ZP,{xs:12,direction:"row",justify:"space-between",alignItems:"center",children:[(0,t.jsx)(Z.Z,{h3:!0,children:"Simulation settings"}),(0,t.jsx)(C.x,{onClick:r})]}),(0,t.jsx)(o.ZP,{xs:12,children:(0,t.jsxs)(Z.Z,{css:S.Subtitle,children:["Here you will be able to tweak your simulation settings. ",(0,t.jsx)("br",{}),"Different simulation settings with the same initial seed could generate radically different Cellular Automata.",(0,t.jsx)("br",{})]})})]})}),(0,t.jsx)(w.ZP.Body,{children:i})]}):(0,t.jsx)(t.Fragment,{})},O=r(6347),T=r(4329),E=r(7e3),D=r(6873);function _(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function I(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){_(e,n,r[n])}))}return e}var N={Section:{mb:"$10"},Footer:{fg:"1",ai:"flex-end"}},M=function(e){var n=e.onDiscard,r=e.onSave,a=(0,x.b)().settings,c=(0,l.useState)(a),u=c[0],d=c[1],f=(0,l.useMemo)((function(){return"conway"===u.mode?D.TM:D.D7}),[u.mode]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.ZP.Container,{gap:2,css:N.Section,children:[(0,t.jsx)(o.ZP,{xs:6,justify:"center",children:(0,t.jsx)(i.ZP,{color:"warning",flat:!0,auto:!0,children:"Generate random seed"})}),(0,t.jsx)(o.ZP,{xs:6,justify:"center",children:(0,t.jsx)(i.ZP,{color:"warning",flat:!0,auto:!0,children:"Import seed from file"})})]}),(0,t.jsx)(o.ZP.Container,{gap:2,css:N.Section,children:(0,t.jsx)(o.ZP,{xs:12,children:(0,t.jsxs)(O.ZP.Group,{label:"Simulation mode",defaultValue:a.mode,onChange:function(e){return d(I({},u,{mode:e}))},children:[(0,t.jsx)(O.ZP,{size:"sm",value:"conway",description:"Evaluates only the 6 face adjacent neighbors",children:"Conway"}),(0,t.jsx)(O.ZP,{size:"sm",value:"von-neumann",description:"Evaluates the whole 26 neighbors",children:"Von Neumann"})]})})}),(0,t.jsxs)(o.ZP.Container,{gap:2,css:N.Section,children:[(0,t.jsx)(o.ZP,{xs:6,children:(0,t.jsx)(T.ZP,{type:"number",color:"primary",label:"Matrix size",value:u.dimension,max:D.tp,helperText:"The number of cell per side in the matrix",onChange:function(e){return d(I({},u,{dimension:parseInt(e.target.value,10)}))}})}),(0,t.jsx)(o.ZP,{xs:6,children:(0,t.jsx)(T.ZP,{type:"number",color:"primary",label:"Life states",value:u.maxLifeExpectancy,helperText:"The max age reachable by any given cell",onChange:function(e){return d(I({},u,{maxLifeExpectancy:parseInt(e.target.value,10)}))}})}),(0,t.jsx)(o.ZP,{xs:6,children:(0,t.jsx)(T.ZP,{type:"number",color:"primary",label:"Spawn threshold",max:f,value:u.spawnThreshold,helperText:"Number of alive neighbor for a cell to spawn",onChange:function(e){return d(I({},u,{spawnThreshold:parseInt(e.target.value,10)}))}})}),(0,t.jsx)(o.ZP,{xs:6,children:(0,t.jsx)(T.ZP,{type:"number",color:"primary",label:"Survive threshold",max:f,value:u.surviveThreshold,helperText:"Number of alive neighbor for a cell to survive",onChange:function(e){return d(I({},u,{surviveThreshold:parseInt(e.target.value,10)}))}})})]}),(0,t.jsxs)(o.ZP.Container,{gap:2,css:N.Footer,children:[(0,t.jsx)(o.ZP,{xs:6,children:(0,t.jsx)(i.ZP,{flat:!0,color:"error",icon:(0,t.jsx)(C.x,{color:s.rS.colors.error.value}),onClick:n,children:"Discard"})}),(0,t.jsx)(o.ZP,{xs:6,children:(0,t.jsx)(i.ZP,{flat:!0,color:"success",icon:(0,t.jsx)(E.M,{color:s.rS.colors.success.value}),onClick:function(){return r(u)},children:"Save"})})]})]})},F=r(9008),G=r.n(F),z=function(){return(0,t.jsxs)(G(),{children:[(0,t.jsx)("title",{children:"3D Cellular Automata"}),(0,t.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}),(0,t.jsx)("meta",{name:"language",content:"English"}),(0,t.jsx)("meta",{name:"title",content:"3D Cellular Automata"}),(0,t.jsx)("meta",{name:"author",content:"Enea Guidi (its-hmny)"}),(0,t.jsx)("meta",{name:"description",content:"A Three.js webapp to simulate cellular automata in 3D"}),(0,t.jsx)("meta",{name:"keywords",content:"cellular automata,3D,conway,game of life,three.js,react"}),(0,t.jsx)("meta",{name:"robots",content:"index, follow"}),(0,t.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"})]})},L={Fab:{width:"300px",position:"fixed",top:"2em",left:"2em",zIndex:1}},A=function(){var e=(0,x.b)().setSettings,n=(0,l.useState)(!1),r=n[0],c=n[1],u=(0,l.useCallback)((function(n){e(n),c((function(e){return!e}))}),[e]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{}),(0,t.jsxs)(o.ZP.Container,{justify:"space-around",css:L.Fab,children:[(0,t.jsx)(i.ZP,{auto:!0,flat:!0,rounded:!0,color:"warning",icon:(0,t.jsx)(a.X,{color:s.rS.colors.warning.value}),onClick:function(){return c((function(e){return!e}))},children:"Settings"}),(0,t.jsx)(P,{})]}),(0,t.jsx)(k,{isOpen:r,onClose:function(){return c((function(e){return!e}))},children:(0,t.jsx)(M,{onDiscard:function(){return c((function(e){return!e}))},onSave:u})}),(0,t.jsx)(m,{})]})}}},function(e){e.O(0,[737,678,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);