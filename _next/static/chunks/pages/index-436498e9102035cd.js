(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3296)}])},3296:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r=t(5893),i=t(2553),o=t(3856),s=t(6212),a=t(2273),l=t(7294),c=t(6665),u=t(6135),x=t(5396),d=t(5848),m=t(3646),h=function(e){var n=e.id,t=e.coords,i=e.simulator,o=(0,l.useState)(void 0),s=o[0],a=o[1];return(0,m.x)((function(){var e,t=1e8*(null!==(e=i.current.CurrentGeneration().at(n))&&void 0!==e?e:0)||void 0;s!==t&&a(t)})),(0,r.jsxs)("mesh",{scale:.9,position:t,children:[(0,r.jsx)("boxGeometry",{args:[1,1,1]}),(0,r.jsx)("meshStandardMaterial",{visible:void 0!==s,color:s})]})},j=function(){var e=(0,d.b)(),n=e.settings,t=e.simulator,i=(0,l.useMemo)((function(){return[2,1,n.dimension+5]}),[n.dimension]),o=(0,l.useMemo)((function(){for(var e=[],i=Math.round(n.dimension/2),o=0;o<n.dimension;o++)for(var s=0;s<n.dimension;s++)for(var a=0;a<n.dimension;a++){var l=[o-i,s-i,a-i],c=(0,x.sG)(l,n.dimension);e.push((0,r.jsx)(h,{simulator:t,coords:l,id:c},c))}return e}),[t,n.dimension]);return(0,r.jsxs)(u.Xz,{camera:{fov:75,near:.1,far:1e3,position:i},style:{height:"100vh"},children:[(0,r.jsx)("ambientLight",{}),(0,r.jsx)("pointLight",{position:[10,10,10]}),(0,r.jsx)(c.z,{enablePan:!0,enableZoom:!0,enableRotate:!0}),o]})},f=t(6042),p=t(9396),Z=t(4866),v=t(8972),g=t(1802),b=t(6089),S=function(){var e=(0,d.b)(),n=e.simulator,t=e.setSeed,i=(0,l.useState)(),a=i[0],c=i[1],u=(0,l.useMemo)((function(){return[{auto:!0,flat:!0,rounded:!0,color:"warning"},{color:s.rS.colors.warning.value}]}),[]),x=u[0],m=u[1],h=(0,l.useCallback)((function(){var e=setInterval((function(){return n.current.NextGeneration()}),100);c(e)}),[n]),j=(0,l.useCallback)((function(){void 0!==a&&(clearInterval(a),c(void 0))}),[a]),S=(0,l.useCallback)((function(){j(),n.current.NextGeneration()}),[n,j]),P=(0,l.useCallback)((function(){j(),t((function(e){return e.slice()}))}),[t,j]);return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(Z.d,(0,f.Z)({},m)),onClick:j})):(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(v.s,(0,f.Z)({},m)),onClick:h})),(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(g.C,(0,f.Z)({},m)),onClick:P})),(0,r.jsx)(o.ZP,(0,p.Z)((0,f.Z)({},x),{icon:(0,r.jsx)(b.J,(0,f.Z)({},m)),onClick:S}))]})},P=t(1760),C=t(6979),w=t(5709),y={Drawer:{height:"97vh",maxWidth:"30em",position:"fixed",zIndex:5,top:"1.5vh",left:"0.5em",padding:"0px"},Subtitle:{color:"$accents8"}},k=function(e){var n=e.isOpen,t=e.onClose,o=e.children;return n?(0,r.jsxs)(P.ZP,{isHoverable:!0,css:y.Drawer,children:[(0,r.jsx)(P.ZP.Header,{children:(0,r.jsxs)(i.ZP.Container,{gap:1,children:[(0,r.jsxs)(i.ZP,{xs:12,direction:"row",justify:"space-between",alignItems:"center",children:[(0,r.jsx)(C.Z,{h3:!0,children:"Simulation settings"}),(0,r.jsx)(w.x,{onClick:t})]}),(0,r.jsx)(i.ZP,{xs:12,children:(0,r.jsxs)(C.Z,{css:y.Subtitle,children:["Here you will be able to tweak your simulation settings. ",(0,r.jsx)("br",{}),"Different simulation settings with the same initial seed could generate radically different Cellular Automata.",(0,r.jsx)("br",{})]})})]})}),(0,r.jsx)(P.ZP.Body,{children:o})]}):(0,r.jsx)(r.Fragment,{})},_=t(6320),F=t(9001),N=t(7e3),T=t(1222),I=t(2812),D={Section:{mb:"$10"},Footer:{fg:"1",ai:"flex-end"}},E=function(e){var n=e.onDiscard,t=e.onSave,a=(0,d.b)(),c=a.settings,u=a.setSeed,x=(0,l.useState)((0,f.Z)({},c)),m=x[0],h=x[1],j=(0,l.useCallback)((function(){return u((0,T.dN)(c.dimension,c.max_states))}),[u,c.dimension,c.max_states]),Z=(0,l.useCallback)((function(){return(0,T.yy)(u)}),[u]),v=(0,l.useCallback)((function(){return u((function(e){return(0,T.ZY)(e),e}))}),[u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.ZP.Container,{gap:2,css:D.Section,children:[(0,r.jsx)(i.ZP,{xs:4,justify:"center",children:(0,r.jsx)(o.ZP,{color:"warning",flat:!0,auto:!0,onClick:j,children:"Random seed"})}),(0,r.jsx)(i.ZP,{xs:4,justify:"center",children:(0,r.jsx)(o.ZP,{color:"warning",flat:!0,auto:!0,onClick:Z,children:"Import seed"})}),(0,r.jsx)(i.ZP,{xs:4,justify:"center",children:(0,r.jsx)(o.ZP,{color:"warning",flat:!0,auto:!0,onClick:v,children:"Export seed"})})]}),(0,r.jsx)(i.ZP.Container,{gap:2,css:D.Section,children:(0,r.jsx)(i.ZP,{xs:12,children:(0,r.jsxs)(_.ZP.Group,{label:"Simulation mode",defaultValue:c.mode,onChange:function(e){return h((0,p.Z)((0,f.Z)({},m),{mode:e}))},children:[(0,r.jsx)(_.ZP,{size:"sm",value:"conway",description:"Evaluates only the 6 face adjacent neighbors",children:"Conway"}),(0,r.jsx)(_.ZP,{size:"sm",value:"von-neumann",description:"Evaluates the whole 26 neighbors",children:"Von Neumann"})]})})}),(0,r.jsxs)(i.ZP.Container,{gap:2,css:D.Section,children:[(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(F.ZP,{type:"number",color:"primary",label:"Matrix size",value:m.dimension,max:I.S_.Dimension,helperText:"The number of cell per side in the matrix",onChange:function(e){return h((0,p.Z)((0,f.Z)({},m),{dimension:parseInt(e.target.value,10)}))}})}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(F.ZP,{type:"number",color:"primary",label:"Life states",value:m.max_states,helperText:"The max age reachable by any given cell",onChange:function(e){return h((0,p.Z)((0,f.Z)({},m),{max_states:parseInt(e.target.value,10)}))}})}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(F.ZP,{type:"number",color:"primary",label:"Spawn threshold",value:m.lim_spawn,max:I.S_.Neighbors[m.mode],helperText:"Number of alive neighbor for a cell to spawn",onChange:function(e){return h((0,p.Z)((0,f.Z)({},m),{lim_spawn:parseInt(e.target.value,10)}))}})}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(F.ZP,{type:"number",color:"primary",label:"Survive threshold",value:m.lim_survive,max:I.S_.Neighbors[m.mode],helperText:"Number of alive neighbor for a cell to survive",onChange:function(e){return h((0,p.Z)((0,f.Z)({},m),{lim_survive:parseInt(e.target.value,10)}))}})})]}),(0,r.jsxs)(i.ZP.Container,{gap:2,css:D.Footer,children:[(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(o.ZP,{flat:!0,color:"error",icon:(0,r.jsx)(w.x,{color:s.rS.colors.error.value}),onClick:n,children:"Discard"})}),(0,r.jsx)(i.ZP,{xs:6,children:(0,r.jsx)(o.ZP,{flat:!0,color:"success",icon:(0,r.jsx)(N.M,{color:s.rS.colors.success.value}),onClick:function(){return t(m)},children:"Save"})})]})]})},z=t(9008),M=t.n(z),G=function(){return(0,r.jsxs)(M(),{children:[(0,r.jsx)("title",{children:"3D Cellular Automata"}),(0,r.jsx)("link",{rel:"icon",type:"image/x-icon",href:"./favicon.ico"}),(0,r.jsx)("link",{rel:"canonical",href:I.SF.SiteUrl}),(0,r.jsx)("meta",{name:"language",content:"English"}),(0,r.jsx)("meta",{name:"title",content:I.SF.Title}),(0,r.jsx)("meta",{name:"author",content:I.SF.Author}),(0,r.jsx)("meta",{name:"description",content:I.SF.Description}),(0,r.jsx)("meta",{name:"keywords",content:I.SF.Keywords.join(",")}),(0,r.jsx)("meta",{property:"og:title",content:I.SF.Title}),(0,r.jsx)("meta",{property:"og:image",content:I.SF.Image}),(0,r.jsx)("meta",{property:"og:description",content:I.SF.Description}),(0,r.jsx)("meta",{name:"twitter:image",content:I.SF.Image}),(0,r.jsx)("meta",{name:"twitter:title",content:I.SF.Title}),(0,r.jsx)("meta",{name:"twitter:site",content:I.SF.SiteUrl}),(0,r.jsx)("meta",{name:"twitter:creator",content:I.SF.TwitterHandle}),(0,r.jsx)("meta",{name:"twitter:description",content:I.SF.Description}),(0,r.jsx)("meta",{name:"robots",content:"index, follow"}),(0,r.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"})]})},H={Fab:{width:"300px",position:"fixed",top:"2em",left:"2em",zIndex:1}},O=function(){var e=(0,d.b)().setSettings,n=(0,l.useState)(!1),t=n[0],c=n[1],u=(0,l.useCallback)((function(n){e(n),c((function(e){return!e}))}),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{}),(0,r.jsxs)(i.ZP.Container,{justify:"space-around",css:H.Fab,children:[(0,r.jsx)(o.ZP,{auto:!0,flat:!0,rounded:!0,color:"warning",icon:(0,r.jsx)(a.X,{color:s.rS.colors.warning.value}),onClick:function(){return c((function(e){return!e}))},children:"Settings"}),(0,r.jsx)(S,{})]}),(0,r.jsx)(k,{isOpen:t,onClose:function(){return c((function(e){return!e}))},children:(0,r.jsx)(E,{onDiscard:function(){return c((function(e){return!e}))},onSave:u})}),(0,r.jsx)(j,{})]})}}},function(e){e.O(0,[737,240,214,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);